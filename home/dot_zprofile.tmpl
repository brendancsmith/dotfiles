source ~/.dotfiles/.zprofile

# ---- path ----

if [ -d "Applications/Postgres.app" ]; then
  export PATH="/Applications/Postgres.app/Contents/Versions/latest/bin:$PATH"
fi

if [ -d "/Appications/Couchbase Server.app" ]; then
  export PATH="/Applications/Couchbase Server.app/Contents/Resources/couchbase-core/bin:$PATH"
fi

export PATH="/usr/local/sbin:$PATH"
export PATH="$HOME/.local/bin:$PATH" # pipx
export PATH="$HOME/bin:$PATH"

# ---- homebrew ----

{{ $homebrew := "/opt/homebrew/bin/brew" }}
{{- if stat $homebrew -}}
fpath+=("{{ output $homebrew "--prefix" | trim }}/share/zsh/site-functions")

eval $({{ $homebrew }} shellenv)
{{- end }}

# ---- orbstack ----

# Added by OrbStack: command-line tools and integration
source ~/.orbstack/shell/init.zsh 2>/dev/null || :

# ---- OpenAI ----

export OPENAI_API_KEY=$(op read "op://Personal/OpenAI API Key/api key")
